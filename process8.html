<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>高温烧制2</title>
    <style>
        /* 基础样式重置 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        /* 响应式基础设置 */
        html {
            font-size: 100%;
            /* 基于750px设计稿的响应式设置 */
            @media (max-width: 750px) {
                font-size: 100vw / 750;
            }
        }
        
        /* 设置body背景图片 */
        body {
            background-image: url('../wamao_img/background2.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            /* 相对定位，作为所有图片的定位容器 */
            position: relative;
            /* 适配750*1334设计稿的宽高比 */
            max-height: 177.87vh; /* 1334/750*100 */
        }
        
        /* 所有覆盖图片的通用样式 */
        .overlay-image {
            /* 绝对定位，覆盖在背景上 */
            position: absolute;
            /* 宽度与界面宽度一致 */
            width: 100%;
            /* 高度与界面高度一致 */
            height: 100%;
            /* 避免触摸事件影响 */
            pointer-events: none;
            /* 响应式图片大小 */
            max-width: 100%;
            height: auto;
        }
        
        /* 图片12的样式 */
        .image12 {
            /* 确保图片在最上层 */
            z-index: 1;
        }
        
        /* 图片13的样式 */
        .image13 {
            /* 确保图片在最上层 */
            z-index: 2;
        }
        
        /* 图片14的样式 */
        .image14 {
            /* 确保图片在最上层 */
            z-index: 3;
        }
        
        /* 图片15的样式 */
        .image15 {
            /* 确保图片在最上层 */
            z-index: 3;
        }

        /* 图片16的样式 */
        .image16 {
            /* 确保图片在最上层 */
            z-index: 3;
        }

        /* 图片17的样式 */
        .image17 {
            /* 确保图片在最上层 */
            z-index: 3;
            /* 初始状态隐藏 */
            visibility: hidden;
        }

        /* 图片18的样式 */
        .image18 {
            /* 确保图片在最上层 */
            z-index: 3;
            /* 初始状态隐藏 */
            visibility: hidden;
        }

        /* 图片的样式 */
        .wamao {
            /* 确保图片在最上层 */
            z-index: 3;
            /* 保持原始比例 */
            width: auto;
            height: auto;
            /* 控制最大显示大小 */
            max-width: 80%;
            /* 下移图片 */
            top: 60%;
            /* 居中显示 */
            left: 50%;
            transform: translateX(-50%);
        }
        
        /* 向里移动并缩小的动画 */
        @keyframes moveInAndShrink {
            0% {
                transform: translateZ(0) scale(1);
            }
            100% {
                transform: translateZ(50px) scale(0.45);
            }
        }

        /* 反向移动并恢复大小的动画 */
        @keyframes moveOutAndRestore {
            0% {
                transform: translateZ(50px) scale(0.45);
            }
            100% {
                transform: translateZ(0) scale(1);
            }
        }

        /* 居中图片向里移动并缩小的动画 */
        @keyframes centerMoveInAndShrink {
            0% {
                transform: translate(-50%, -50%) translateZ(0) scale(1);
            }
            100% {
                transform: translate(-50%, -50%) translateZ(50px) scale(0.3);
            }
        }

        /* 小幅度放大缩小的脉冲动画 */
        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }
        
        /* 进度条的样式 */
        .jindutiao1 {
            /* 确保图片在最上层 */
            z-index: 1;
        }
        
        /* 进度条2的样式 */
        .jindutiao2 {
            /* 确保图片在最上层 */
            z-index: 1;
            /* 保持原始比例 */
            width: auto;
            height: auto;
            /* 直接位于右移界面宽度五分之一的位置 */
            left: 75vw;
        }
    </style>
</head>
<body>
    <!-- 所有覆盖图片 -->
    <img src="../wamao_img/image12.png" alt="image2" class="overlay-image image12">
    <img src="../wamao_img/image13.png" alt="image3" class="overlay-image image13">
    <img src="../wamao_img/image14.png" alt="image4" class="overlay-image image14">
    <img src="../wamao_img/image15.png" alt="image2" class="overlay-image image15">
    <img src="../wamao_img/image16.png" alt="image2" class="overlay-image image16">
    <img src="../wamao_img/image17.png" alt="image2" class="overlay-image image17">
    <img src="../wamao_img/image18.png" alt="image2" class="overlay-image image18">
    <!-- <img src="../wamao_img/27wamao1/wamao1.png" alt="image3" class="overlay-image wamao"> -->
    <img src="../wamao_img/jindutiao1.png" alt="jindutiao1" class="overlay-image jindutiao1">
    <img src="../wamao_img/jindutiao2.png" alt="jindutiao2" class="overlay-image jindutiao2">
    <script>
        // 页面加载完成后执行
        window.onload = function() {
            // 从localStorage中获取带颜色的wamao图片信息
            const coloredWamaoImageName = localStorage.getItem('selectedColoredWamaoImage');
            
            if (coloredWamaoImageName) {
                console.log('获取到带颜色的wamao图片信息:', coloredWamaoImageName);
                
                // 构建完整的图片路径
                const coloredWamaoImagePath = `../27wamao2/${coloredWamaoImageName}`;
                
                // 创建img元素
                const coloredWamaoImg = document.createElement('img');
                coloredWamaoImg.src = coloredWamaoImagePath;
                coloredWamaoImg.alt = '带颜色的wamao图片';
                
                // 添加样式类
                coloredWamaoImg.classList.add('overlay-image', 'wamao');
                
                // 添加初始动画样式（透明度为0，缩小状态，从更低位置开始）
                coloredWamaoImg.style.top = '58%'; // 保持垂直居中的定位基准
                coloredWamaoImg.style.opacity = '0';
                coloredWamaoImg.style.transform = 'translate(-50%, 30%) scale(0.8)'; // 使用transform的translateY来控制初始垂直位置
                coloredWamaoImg.style.transition = 'opacity 1s ease, transform 1s ease';
                
                // 添加到body中
                document.body.appendChild(coloredWamaoImg);
                
                // 触发淡入放大动画（短暂延迟后设置最终样式）
                setTimeout(() => {
                    coloredWamaoImg.style.opacity = '1';
                    coloredWamaoImg.style.transform = 'translate(-50%, -50%) scale(1)'; // 移动到垂直居中位置并放大
                    // 不再设置top值，保持top: 50%不变
                    
                    // 2秒后添加向里移动并缩小的动画
                    setTimeout(() => {
                        coloredWamaoImg.style.animation = 'centerMoveInAndShrink 2s ease forwards';
                        
                        // 同时让image15和image16也触发向里移动并缩小的动画
                        const image15 = document.querySelector('.image15');
                        const image16 = document.querySelector('.image16');
                        image15.style.animation = 'moveInAndShrink 2s ease forwards';
                        image16.style.animation = 'moveInAndShrink 2s ease forwards';
                        
                        // 动画结束后（2秒后），让image16反向移动
                        setTimeout(() => {
                            const image16 = document.querySelector('.image16');
                            image16.style.animation = 'moveOutAndRestore 2s ease forwards';
                            
                            // 确保image17和image18在所有前面的动画结束后才出现
                            // image16反向移动动画需要2秒，所以这里设置2秒后才显示image17和image18
                            setTimeout(() => {
                                const image17 = document.querySelector('.image17');
                                const image18 = document.querySelector('.image18');
                                
                                // 设置初始样式（确保存在且可见性为隐藏）
                                image17.style.opacity = '0';
                                image18.style.opacity = '0';
                                image17.style.visibility = 'visible';
                                image18.style.visibility = 'visible';
                                image17.style.transition = 'opacity 1s ease';
                                image18.style.transition = 'opacity 1s ease';
                                
                                // 淡入显示
                                image17.style.opacity = '1';
                                image18.style.opacity = '1';
                                
                                // 添加脉冲动画，播放3次
                                setTimeout(() => {
                                    image17.style.animation = 'pulse 1s ease-in-out 3';
                                    image18.style.animation = 'pulse 1s ease-in-out 3';
                                    
                                    // 脉冲动画结束后（3秒后），让jindutiao2右移至80vw
                                    setTimeout(() => {
                                        const jindutiao2 = document.querySelector('.jindutiao2');
                                        // 添加过渡效果
                                        jindutiao2.style.transition = 'left 1s ease';
                                        // 设置新的位置
                                        jindutiao2.style.left = '80vw';
                                        
                                        // 右移动画结束后（1秒），等待1.5秒后跳转至process9.html
                                        setTimeout(() => {
                                            window.location.href = 'process9.html';
                                        }, 2500); // 1秒动画结束 + 1.5秒等待 = 2.5秒
                                    }, 3000); // 脉冲动画时长：1秒/次 * 3次 = 3秒
                                }, 100);
                            }, 2000); // 等待image16反向移动动画完成（2秒）
                        }, 2000); // 等待向里移动缩小动画完成（2秒）
                    }, 2000);
                }, 100);
            } else {
                console.error('未找到带颜色的wamao图片信息');
            }
        };
    </script>
</body>
</html>